extends layout

block content
  br
  br
  h1 Anwendungsseite
  p Auf der Anwendungsseite finden Sie einen Bereich zum Datenupload. Sie können entweder Trainingsdaten, ein trainiertes Modell oder eine Sentinel 2 Bilddatei hochladen. Außerdem können Sie hier verschiedene Parameter einstellen und schließlich die Durchführung der AOA-Berechnung, das Trainieren des Algortihmus und das Anzeigen der Bereiche, in denen weitere Trainingsdaten erhoben werden müssen, starten.

  .row.justify-content-md-left
        .col-lg-6.col-xs-12.mb-3
            .card.text-dark.p-4.border-success.cardanwendungsmap
              #anwendungsmap

        .col-lg-6.col-xs-12.mb-3
            .card.text-dark.p-4.border-success.cardanwendungsseite
              h3 Durchführungsschritte
              p 1. Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.
              p 2. Datenupload: Laden Sie Ihre Daten, welche zur Durchführung benötigt werden hoch!

              h6   2.1 Sentinel 2 Bild als .tif
              form(method='post', enctype='multipart/form-data', action='/uploadsentinel')
                input(type='file', name='file' , accept=".tif")
                input(type='submit', value='Submit')
              p Wenn Sie ein .tif hochgeladen haben, kann es bis zu einer Minute dauern, bis dieses auf der Karte erscheint! 
              p Danach können Sie es aber ohne weitere Wartezeiten über die Layerkontrollfunktion ein- und ausblenden!

              h6   2.2 Sektion Trainingsdaten:

              a   2.2.1 Trainingspolygone als GeoPackage oder GeoJSON: (Bei GeoPackage den Layer, welcher auf der Karte angezeigt werden soll bitte "Layer1" nennen)0
              form(method='post', enctype='multipart/form-data', action='/uploadtrainingsdatagpkg' )
                input(type='file', name='file', accept=".gpkg, .geojson")
                input(type='submit', value='Submit')

              a   2.2.2 Zusatz: Trainingspolygone als Shapefile als .zip (Bitte die .shp Datei als "usertrainingspolygoneshp.shp" benennen!) 
              form(method='post', enctype='multipart/form-data', action='/uploadtrainingsdatashp' )
                input(type='file', name='file', accept=".zip")
                input(type='submit', value='Submit')
              br
              h6   2.3 trainiertes Modell (ohne .rds)
              form(method='post', enctype='multipart/form-data', action='/uploadmodel')
                input(type='file', name='file' accept=" ")
                input(type='submit', value='Submit')
              
              p 3. Wählen Sie eine Auflösung
                .dropdown
                  button.btn.btndropdown.btn-success.dropdown-toggle(type='button' data-bs-toggle='dropdown' aria-expanded='false')
                    | Auflösung
                  .dropdown-menu
                    .form-check
                      input#flexRadioDefault10m.form-check-input(type='radio', name='flexRadioDefault')
                      label.form-check-label(for='flexRadioDefault10m')
                        | 10 Meter
                    .form-check
                      input#flexRadioDefault20m.form-check-input(type='radio', name='flexRadioDefault')
                      label.form-check-label(for='flexRadioDefault20m')
                        | 20 Meter
                    .form-check
                      input#flexRadioDefault30m.form-check-input(type='radio', name='flexRadioDefault')
                      label.form-check-label(for='flexRadioDefault20m')
                        | 30 Meter
              p 4. Beim Klicken des "Ausführen mit ..." Buttons wird das Training, die Prediction, die AOA und die Ermittlung der empfolenen Gebiete, welche nachtrainiert werden müssen, mit den gewählten Trainingsdaten ausgeführt. 
              
              form(method='post', action='/anwendungsseite/ergebnisseitegpkg')
                button.btn.btn-success() Ausführen mit geoPackage Trainingsdaten
              br
              form(method='post', action='/anwendungsseite/ergebnisseitegjson')
                button.btn.btn-success() Ausführen mit GeoJSON Trainingsdaten
              br
              form(method='post', action='/anwendungsseite/ergebnisseiteshape')
                button.btn.btn-success() Ausführen mit Shapefile Trainingsdaten
              br
              form(method='post', action='/anwendungsseite/ergebnisseitemodel')
                button.btn.btn-success() Ausführen mit trainiertem Modell
              
              
              


  script(src="/javascripts/application.js")
  
  script.
    // Script for side navigation
    function w3_open() {
    var x = document.getElementById("mySidebar");
    x.style.width = "300px";
    x.style.paddingTop = "10%";
    x.style.display = "block";
    }
    // Close side navigation
    function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    }
    // Used to toggle the menu on smaller screens when clicking on the menu button
    function openNav() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    }
    }
 
