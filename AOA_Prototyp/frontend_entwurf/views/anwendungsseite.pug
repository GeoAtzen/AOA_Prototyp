extends layout

block content
  br
  br
  h1 Anwendungsseite
  p Auf der Anwendungsseite finden Sie einen Bereich zum Datenupload. Sie können entweder Trainingsdaten, ein trainiertes Modell oder eine Sentinel 2 Bilddatei hochladen. Außerdem können Sie hier verschiedene Parameter einstellen und schließlich die Durchführung der AOA-Berechnung, das Trainieren des Algortihmus und das Anzeigen der Bereiche, in denen weitere Trainingsdaten erhoben werden müssen, starten.

  .row.justify-content-md-left
        .col-lg-6.col-xs-12.mb-3
              #anwendungsmap

        .col-lg-6.col-xs-12.mb-3
            .card.text-dark.p-4.border-success.cardanwendungsseite
              h2 Durchführungsschritte

              h4 1. Bereich wählen:  
                button.buttonFragezeichen(onclick="document.getElementById('id02').style.display='block'" title='Hilfe') ?
              p
              h4 2. Datenupload:  
                button.buttonFragezeichen(onclick="document.getElementById('id03').style.display='block'" title='Hilfe') ?
              p

              h4 2.1 trainiertes Modell (ohne .rds)
                button.buttonFragezeichen(onclick="document.getElementById('id04').style.display='block'" title='Hilfe') ?
              form(method='post', enctype='multipart/form-data', action='/uploadmodel')
                input(type='file', name='file' accept=" " style="color:grey;")
                input.btn.btn-success(type='submit', value='Hinzufügen' onclick='bufferAktivieren(4)')
                #puff4.spinner-border.float-end(role='status' style= 'display:none') 
              p 

              h4 2.2 Sektion Trainingsdaten:
                button.buttonFragezeichen(onclick="document.getElementById('id05').style.display='block'" title='Hilfe') ?
              h5(style="color:darkgray") 2.2.1 Trainingspolygone als GeoPackage oder GeoJSON:
              form(method='post', enctype='multipart/form-data', action='/uploadtrainingsdata' )
                input(type='file', name='file', accept=".gpkg, .geojson" style="color:grey;")
                input.btn.btn-success(type='submit', value='Hinzufügen' onclick='bufferAktivieren(2)')
                #puff2.spinner-border.float-end(role='status' style= 'display:none')
              p(style="font-size: small") Bei GeoPackage den Layer, welcher auf der Karte angezeigt werden soll bitte "Layer1" nennen

              h5(style="color:darkgray") 2.2.2 Zusatz: Trainingspolygone als Shapefile als .zip
              form(method='post', enctype='multipart/form-data', action='/uploadtrainingsdatashp' )
                input(type='file', name='file', accept=".zip" style="color:grey;")
                input.btn.btn-success(type='submit', value='Hinzufügen' onclick='bufferAktivieren(3)')
                #puff3.spinner-border.float-end(role='status' style= 'display:none')                
              p(style="font-size: small") Bitte die .shp Datei als "usertrainingspolygoneshp.shp" benennen!                


              h4 2.3 Sentinel 2 Bild als .tif </b>
                button.buttonFragezeichen(onclick="document.getElementById('id06').style.display='block'" title='Hilfe') ?
              form(method='post', enctype='multipart/form-data', action='/uploadsentinel')
                input(type='file', name='file' , accept=".tif" style="color:grey;")
                input.btn.btn-success(type='submit', value='Hinzufügen' onclick='bufferAktivieren(1)')
                #puff1.spinner-border.float-end(role='status' style= 'display:none')
                p(style="font-size: small") Das Anzeigen kann bis zu eine Minute dauern, bitte haben Sie Geduld!

              h4 3. Auflösung wählen
                button.buttonFragezeichen(onclick="document.getElementById('id08').style.display='block'" title='Hilfe') ?     
                br   
                .w3-dropdown-click
                  #Auflo.button.w3-button.btn.btn-success(onclick='aufloNull()') Auflösungen▾
                  #DemoZwei.w3-dropdown-content
                    button.btn.btn-success(onclick='aufloEins()') Hoch
                    br
                    button.btn.btn-success(onclick='aufloZwei()') Mittel
                    br
                    button.btn.btn-success(onclick='aufloDrei()') Gering
              p 
              h4 4. Algorithmus wählen
                button.buttonFragezeichen(onclick="document.getElementById('id08').style.display='block'" title='Hilfe') ?     
                br   
                .w3-dropdown-click
                  #Algo.button.w3-button.btn.btn-success(onclick='algoNull()') Algorithmen▾
                  #Demo.w3-dropdown-content
                    button.btn.btn-success(onclick='algoEins()') Random Forest
                    button.btn.btn-success(onclick='algoZwei()') Andere Methode
                    button.btn.btn-success(onclick='algoDrei()') Andere Methode 2?

              h4 5. Ausführen
                button.buttonFragezeichen(onclick="document.getElementById('id09').style.display='block'" title='Hilfe') ?
              p
              .w3-row
                .w3-half
                  form(method='post', action='/anwendungsseite/ergebnisseitegpkg')
                    button.btn.btn-success(style="margin-right: 2%; margin-left: 2%;") Ausführen mit <br>
                      | geoPackage Trainingsdaten
                  br
                .w3-half
                  form(method='post', action='/anwendungsseite/ergebnisseitegjson')
                    button.btn.btn-success(style="margin-right: 2%; margin-left: 2%;") Ausführen mit <br>
                      | GeoJSON Trainingsdaten
                  br 
              .w3-row
                .w3-half
                  form(method='post', action='/anwendungsseite/ergebnisseiteshape')
                    button.btn.btn-success(style="margin-right: 2%; margin-left: 2%;") Ausführen mit <br>
                      | Shapefile Trainingsdaten
                  br  
                .w3-half
                 form(method='post', action='/anwendungsseite/ergebnisseitemodel')
                    button.btn.btn-success(style="margin-right: 2%; margin-left: 2%;") Ausführen mit <br>                                                                  
                      | trainiertem Modell
                 
              
  // Modals
  #id02.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id02').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id03.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id03').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 2. Datenupload
         p Laden Sie Ihre Daten, welche zur Durchführung benötigt werden hoch!

  #id04.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id04').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id05.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id05').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id06.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id06').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id07.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id07').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id08.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id08').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.

  #id09.w3-modal
    .w3-modal-content.w3-card-4.w3-animate-top
      header.w3-container.w3-teal.w3-display-container
        span.w3-button.w3-teal.w3-display-topright(onclick="document.getElementById('id09').style.display='none'")
          i.fa.fa-remove
      .w3-container
         h3 1. Bereich wählen
         p Zeichnen Sie links auf der Karte mit dem Leaflet Draw Plugin einen rechteckigen Bereich, mit welchem Sie arbeiten möchten.


  script(src="/javascripts/application.js")
  
  script.
    // Script for side navigation
    function w3_open() {
    var x = document.getElementById("mySidebar");
    x.style.width = "300px";
    x.style.paddingTop = "10%";
    x.style.display = "block";
    }
    // Close side navigation
    function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    }
    // Used to toggle the menu on smaller screens when clicking on the menu button
    function openNav() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    }
    }

    function algoNull() {
    var x = document.getElementById("Demo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    }
    }
    
    function algoEins() {
    var x = document.getElementById("Demo");
    var y = document.getElementById("Algo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Random Forest";
    }
    }

    function algoZwei() {
    var x = document.getElementById("Demo");
    var y = document.getElementById("Algo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Andere Methode";
    }
    }

    function algoDrei() {
    var x = document.getElementById("Demo");
    var y = document.getElementById("Algo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Andere Methode 2?";
    }
    }

    function aufloNull() {
    var x = document.getElementById("DemoZwei");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    }
    }
    
    function aufloEins() {
    var x = document.getElementById("DemoZwei");
    var y = document.getElementById("Auflo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Hoch";
    }
    }

    function aufloZwei() {
    var x = document.getElementById("DemoZwei");
    var y = document.getElementById("Auflo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Mittel";
    }
    }

    function aufloDrei() {
    var x = document.getElementById("DemoZwei");
    var y = document.getElementById("Auflo");
    if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    } else {
    x.className = x.className.replace(" w3-show", "");
    y.textContent = "Gering";
    }
    }

    function bufferAktivieren(numb) {
    var el = document.getElementById("puff"+ numb);
    el.style = 'display: block';
    }